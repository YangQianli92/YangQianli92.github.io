<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>LLM实践:基于LLM的狼人杀文字版游戏 | QianLi Yang</title><meta name="author" content="QianLi Yang"><meta name="copyright" content="QianLi Yang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="游戏流程详细介绍整个狼人杀游戏的流程主要由 GameManager 类和 RoleAIManager 类协同完成，以下是详细的游戏流程： 1. 游戏初始化GameManager 初始化：在 GameManager 类的 __init__ 方法中，设置游戏的基本信息，如游戏 ID、轮次、日夜状态、玩家角色配置、存活玩家列表、死亡玩家记录等。角色分配：调用 startup 方法，随机分配玩家角色，并为">
<meta property="og:type" content="article">
<meta property="og:title" content="LLM实践:基于LLM的狼人杀文字版游戏">
<meta property="og:url" content="http://example.com/2025/05/13/langrensha/index.html">
<meta property="og:site_name" content="QianLi Yang">
<meta property="og:description" content="游戏流程详细介绍整个狼人杀游戏的流程主要由 GameManager 类和 RoleAIManager 类协同完成，以下是详细的游戏流程： 1. 游戏初始化GameManager 初始化：在 GameManager 类的 __init__ 方法中，设置游戏的基本信息，如游戏 ID、轮次、日夜状态、玩家角色配置、存活玩家列表、死亡玩家记录等。角色分配：调用 startup 方法，随机分配玩家角色，并为">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/head.jpg">
<meta property="article:published_time" content="2025-05-13T12:44:48.000Z">
<meta property="article:modified_time" content="2025-05-28T08:44:37.455Z">
<meta property="article:author" content="QianLi Yang">
<meta property="article:tag" content="LLM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/head.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/05/13/langrensha/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'LLM实践:基于LLM的狼人杀文字版游戏',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://github.com/YangQianli92"><i class="fa-fw fab fa-github"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">QianLi Yang</span></a><a class="nav-page-title" href="/"><span class="site-name">LLM实践:基于LLM的狼人杀文字版游戏</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://github.com/YangQianli92"><i class="fa-fw fab fa-github"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">LLM实践:基于LLM的狼人杀文字版游戏</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-13T12:44:48.000Z" title="发表于 2025-05-13 20:44:48">2025-05-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-28T08:44:37.455Z" title="更新于 2025-05-28 16:44:37">2025-05-28</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>游戏流程详细介绍<br>整个狼人杀游戏的流程主要由 <code>GameManager</code> 类和 <code>RoleAIManager</code> 类协同完成，以下是详细的游戏流程：</p>
<h2 id="1-游戏初始化"><a href="#1-游戏初始化" class="headerlink" title="1. 游戏初始化"></a>1. 游戏初始化</h2><p><code>GameManager</code> 初始化：在 <code>GameManager</code> 类的 <code>__init__</code> 方法中，设置游戏的基本信息，如游戏 ID、轮次、日夜状态、玩家角色配置、存活玩家列表、死亡玩家记录等。<br>角色分配：调用 <code>startup</code> 方法，随机分配玩家角色，并为每个玩家创建对应的 <code>RoleAIManager</code> 对象。同时，记录每个角色对应的玩家编号，以及每个玩家的真实角色。</p>
<h2 id="2-夜晚阶段"><a href="#2-夜晚阶段" class="headerlink" title="2. 夜晚阶段"></a>2. 夜晚阶段</h2><p>狼人行动：在 <code>act_at_night</code> 方法中，首先处理狼人杀人。存活的狼人玩家通过 <code>RoleAIManager</code> 的 <code>act_at_night</code> 方法进行思考和投票，选择要杀的玩家。最后，随机选取一个得票最多的玩家作为被杀对象。<br>预言家行动：存活的预言家玩家通过 <code>RoleAIManager</code> 的 <code>act_at_night</code> 方法进行思考和查看，选择要查验的玩家，并得知其身份。<br>女巫行动：存活的女巫玩家根据狼人杀人情况，通过 <code>RoleAIManager</code> 的 <code>act_at_night</code> 方法决定是否使用解药和解救对象，以及是否使用毒药和下毒对象。<br>更新游戏状态：根据夜晚的行动结果，更新死亡玩家记录和游戏状态信息。</p>
<h2 id="3-警长竞选阶段（仅第一轮）"><a href="#3-警长竞选阶段（仅第一轮）" class="headerlink" title="3. 警长竞选阶段（仅第一轮）"></a>3. 警长竞选阶段（仅第一轮）</h2><p>上警选择：每个存活玩家通过 <code>RoleAIManager</code> 的 <code>act_run_for_police</code> 方法决定是否参与警长竞选。<br>上警发言：参与竞选的玩家按随机顺序发言，通过 <code>RoleAIManager</code> 的 <code>act_speak_base</code> 方法进行发言。<br>警上投票：未参与竞选的玩家通过 RoleAIManager 的 <code>act_vote_base</code> 方法进行投票，选出警长。如果出现平票，则进行平票 PK 发言和投票。</p>
<h2 id="4-白天阶段"><a href="#4-白天阶段" class="headerlink" title="4. 白天阶段"></a>4. 白天阶段</h2><p>白天发言：警长选择发言顺序，存活玩家按顺序发言，通过 <code>RoleAIManager</code> 的 <code>act_speak_base</code> 方法进行发言。<br>白天投票：存活玩家通过 <code>RoleAIManager</code> 的 <code>act_vote_base</code> 方法进行投票，选出要放逐的玩家。如果出现平票，则进行平票 PK 发言和投票。<br>出局发言：被放逐的玩家通过 <code>RoleAIManager</code> 的 <code>act_speak_base</code> 方法发表遗言。</p>
<h2 id="5-特殊情况处理"><a href="#5-特殊情况处理" class="headerlink" title="5. 特殊情况处理"></a>5. 特殊情况处理</h2><p>猎人开枪：如果猎人死亡且枪未使用，猎人通过 <code>RoleAIManager</code> 的 <code>act_hunter_shoot</code> 方法选择要带走的玩家。<br>警长移交警徽：如果警长死亡，警长通过 <code>RoleAIManager</code> 的 <code>act_police_transfer</code> 方法选择移交警徽的对象。</p>
<h2 id="6-游戏结束判断"><a href="#6-游戏结束判断" class="headerlink" title="6. 游戏结束判断"></a>6. 游戏结束判断</h2><p>在每一轮结束后，调用 <code>is_end</code> 方法判断游戏是否结束。如果所有狼人死亡，好人胜利；如果所有平民死亡或所有神（预言家、女巫、猎人）死亡，狼人胜利。</p>
<h2 id="优化点"><a href="#优化点" class="headerlink" title="优化点"></a>优化点</h2><h3 id="记忆功能"><a href="#记忆功能" class="headerlink" title="记忆功能"></a>记忆功能</h3><p>记忆功能主要由 MemorySystem 类实现，用于管理玩家的历史信息和发言记录，并提供摘要功能，以减少信息冗余。以下是记忆功能的详细介绍：</p>
<h4 id="1-自身记忆更新"><a href="#1-自身记忆更新" class="headerlink" title="1. 自身记忆更新"></a>1. 自身记忆更新</h4><p><code>update_self_memory</code> 方法：该方法用于更新玩家的自身记忆。当玩家的行动信息（如思考、发言、投票等）以及公共消息（如投票结果、出局结果等）达到一定数量（<code>self_update_freq</code>）时，会调用LLM对历史信息进行提炼，生成摘要。</p>
<ul>
<li>示例代码：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">你现在正在玩狼人杀游戏</span><br><span class="line">你是4号玩家，你的身份是女巫。</span><br><span class="line">现在请你提炼自己的历史发言记录和思考过程，需要包含精简的游戏基本过程和关键人物，排除冗余信息，言简意赅地总结游戏重点。请直接输出提炼后的内容。</span><br><span class="line">例如：</span><br><span class="line">游戏过程：</span><br><span class="line">1.游戏一共10名玩家，预言家1位，狼人3位，女无1一位</span><br><span class="line">2.第一天晚上，狼人杀了2号，女巫没有救他。第二天白天，3号玩家被投票踢出局</span><br><span class="line">3.第二个晚上，平安无事。第三天白天，1号玩家被踢出局</span><br><span class="line">4.第三个晚上，狼人杀了5号。</span><br><span class="line"></span><br><span class="line">关键玩家：</span><br><span class="line">1号：自爆是预言家，查验了3号，是狼人</span><br><span class="line">2号：遗言说1号是狼人</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">以上内容仅供参考，请你结合以下是历史信息进行生成：</span><br><span class="line"></span><br><span class="line">你的思考过程是:作为女巫，我的首要任务是保护关键角色，如预言家和猎人，以确保好人阵营的优势。当前2号玩家被狼人杀害，我需要判断2号是否是关键角色。如果2号是预言家或猎人，解药的使用至关重要；如果是平民或狼人，则无需浪费解药。由于没有明确身份信息，且游戏初期解药的使用需谨慎，我决定暂时不使用解药，保留资源以应对更关键的情况。</span><br><span class="line">女巫把2号(预言家)救活了。</span><br><span class="line">女巫不使用毒药。</span><br><span class="line">第1晚是平安夜，没有人出局。（第1晚结果在警长竞选后公布）</span><br><span class="line">--- 第1晚结束 ---</span><br><span class="line">你是4号玩家，你的身份是女巫。</span><br><span class="line">你的思考过程是:作为女巫，我的首要任务是保护关键角色，如预言家和猎人，以确保好人阵营的优势。当前2号玩家被狼人杀害，我需要判断2号是否是关键角色。如果2号是预言家或猎人，解药的使用至关重要；如果是平民或狼人，则无需浪费解药。由于没有明确身份信息，且游戏初期解药的使用需谨慎，我决定暂时不使用解药，保留资源以应对更关键的情况。</span><br><span class="line">女巫把2号(预言家)救活了。</span><br><span class="line">女巫不使用毒药。</span><br><span class="line">第1晚是平安夜，没有人出局。（第1晚结果在警长竞选后公布）</span><br><span class="line">--- 第1晚结束 ---</span><br><span class="line">女巫把2号(预言家)救活了。</span><br><span class="line">女巫不使用毒药。</span><br><span class="line">第1晚是平安夜，没有人出局。（第1晚结果在警长竞选后公布）</span><br><span class="line">--- 第1晚结束 ---</span><br><span class="line">-- 第1个回合的白天发言环节 --</span><br><span class="line">白天发言阶段，你的发言:支持8号警长，警惕狼人行动，保护预言家和平民。</span><br><span class="line">白天发言阶段，你的思考过程:作为女巫，我已救活2号预言家，确保关键角色存活。当前局势稳定，需继续观察玩家行为，保护好人阵营。</span><br><span class="line">白天发言阶段，你的发言:支持8号警长，警惕狼人行动，保护预言家和平民。</span><br><span class="line">白天发言阶段，你的思考过程:作为女巫，我已救活2号预言家，确保关键角色存活。当前局势稳定，需继续观察玩家行为，保护好人阵营。</span><br><span class="line">白天投票阶段，你的思考过程:作为4号玩家，我已经在警下投票阶段支持了8号担任警长。根据警上发言和警下投票的结果，8号获得了多数玩家的支持，显示出他在团队中的影响力和可信度。在当前局势下，继续支持8号作为警长是合理的，因为他承诺会带领团队 找出狼人并保护平民。此外，2号预言家已被女巫救活，这为好人阵营提供了重要的信息优势。因此，我决定继续投票支持8号，以确保好人阵营的胜利。</span><br><span class="line">第1天白天，8号被放逐出局。</span><br><span class="line">白天发言阶段，你的思考过程:作为女巫，我已救活2号预言家，确保关键角色存活。当前局势稳定，需继续观察玩家行为，保护好人阵营。</span><br><span class="line">白天投票阶段，你的思考过程:作为4号玩家，我已经在警下投票阶段支持了8号担任警长。根据警上发言和警下投票的结果，8号获得了多数玩家的支持，显示出他在团队中的影响力和可信度。在当前局势下，继续支持8号作为警长是合理的，因为他承诺会带领团队 找出狼人并保护平民。此外，2号预言家已被女巫救活，这为好人阵营提供了重要的信息优势。因此，我决定继续投票支持8号，以确保好人阵营的胜利。</span><br><span class="line">第1天白天，8号被放逐出局。</span><br><span class="line">狼人杀了 9号，女巫的解药用完了。</span><br><span class="line">女巫把3号(平民)毒死了。</span><br><span class="line">第2晚，以下玩家出局：9号，3号，</span><br><span class="line">--- 第2晚结束 ---</span><br><span class="line">狼人杀了 9号，女巫的解药用完了。</span><br><span class="line">女巫把3号(平民)毒死了。</span><br><span class="line">第2晚，以下玩家出局：9号，3号，</span><br><span class="line">--- 第2晚结束 ---</span><br><span class="line">-- 第2个回合的白天发言环节 --</span><br><span class="line">白天发言阶段，你的发言:警惕3号出局原因，分析剩余玩家发言，保护预言家，找出狼人。</span><br><span class="line">白天发言阶段，你的思考过程:作为女巫，我已用解药救活2号预言家，但3号被误毒。需谨慎使用毒药，分析玩家行为以保护好人阵营。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>以下是基于DeepSeek-V3的输出结果，利用记忆功能可以将原本1K+的玩家思考、发言、公共消息提炼为200tokens的摘要，并且保留了绝大部分关键信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">游戏过程：</span><br><span class="line">1. 第1晚，狼人杀2号，女巫救活2号（预言家），平安夜。</span><br><span class="line">2. 第1天白天，8号被放逐出局。</span><br><span class="line">3. 第2晚，狼人杀9号，女巫毒死3号（平民）。</span><br><span class="line">4. 第2天白天，继续分析玩家行为，保护预言家，找出狼人。</span><br><span class="line"></span><br><span class="line">关键玩家：</span><br><span class="line">2号：预言家，被女巫救活。</span><br><span class="line">8号：警长，第1天被放逐。</span><br><span class="line">3号：平民，被女巫误毒。</span><br><span class="line">9号：被狼人杀害。</span><br><span class="line"></span><br><span class="line">思考过程：</span><br><span class="line">1. 作为女巫，首要任务是保护关键角色，如预言家。</span><br><span class="line">2. 第1晚判断2号是关键角色，使用解药救活。</span><br><span class="line">3. 第1天支持8号警长，确保好人阵营优势。</span><br><span class="line">4. 第2晚误毒3号，需谨慎使用毒药，分析玩家行为以保护好人阵营。</span><br></pre></td></tr></table></figure>


<h4 id="2-发言记忆更新"><a href="#2-发言记忆更新" class="headerlink" title="2. 发言记忆更新"></a>2. 发言记忆更新</h4><p><code>update_speech_memory</code> 方法：该方法用于更新玩家的发言记忆，分为警上发言和常规发言两部分。当新的发言记录达到一定数量（<code>update_freq</code>）时，会调用LLM对发言记录进行分析，生成摘要。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1. 按发言顺序标记重点</span><br><span class="line">2. 记录玩家间的互动关系</span><br><span class="line">3. 注意立场变化</span><br><span class="line">4. 总结所有玩家的发言内容，内容需要言简意赅，请直接输出这一部分，1，2，3点要求只需要注意，不需要输出。</span><br><span class="line"></span><br><span class="line">发言记录：</span><br><span class="line">9号发言：我支持8号担任警长，相信他能带领我们找出狼人，保护平民。</span><br><span class="line">10号发言：我支持8号担任警长，相信他能带领我们找出狼人，确保好人胜利。</span><br><span class="line">1号发言：我支持8号担任警长，相信他能带领我们找出狼人，保护平民。同时，我会密切关注其他玩家的发言和行为。</span><br><span class="line">2号发言：我支持8号担任警长，相信他能带领我们找出狼人，保护平民。</span><br><span class="line">3号发言：我支持8号担任警长，但我们会密切关注他的决策，确保我们的胜利。</span><br><span class="line">4号发言：支持8号警长，警惕狼人行动，保护预言家和平民。</span><br><span class="line">5号发言：我坚持支持8号警长，相信他的领导能帮助我们找出狼人，保护好人阵营。</span><br><span class="line">6号发言：6号发言：继续支持8号警长，我们会合力找出狼人，保护平民。警惕任何异常行为。</span><br><span class="line">7号发言：我支持8号警长，相信他能带领我们找出狼人，保护平民。</span><br><span class="line">8号发言：感谢大家的支持，作为警长，我会全力以赴，带领大家找出狼人，确保好人胜利。请大家保持警惕，共同分析线索。</span><br><span class="line"></span><br><span class="line">分析结果：</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">所有玩家一致支持8号担任警长，普遍认为8号能够有效带领团队找出狼人并保护平民或确保好人胜利。</span><br><span class="line">部分玩家（如3号和6号）表示会密切关注8号的决策和其他玩家的行为，以警惕狼人的行动。</span><br><span class="line">整体上，团队对8号充满信任，并期待在他的领导下取得胜利。</span><br></pre></td></tr></table></figure>

<h4 id="3-记忆使用"><a href="#3-记忆使用" class="headerlink" title="3. 记忆使用"></a>3. 记忆使用</h4><p>在 <code>RoleAIManager</code> 类的 <code>get_game_state_str</code> 方法中，会调用 <code>MemorySystem</code> 的 <code>update_self_memory</code> 和 <code>update_speech_memory</code> 方法，获取自身记忆摘要和发言记忆摘要，并将其加入到提示信息中，供 AI 进行决策。</p>
<ul>
<li>为了尽可能保留有效信息，每个玩家都会收集各自的行动信息（如思考、发言、投票等）还有公共消息通过（如投票结果、出局结果等）</li>
<li>拿到记忆之后并不会直接使用，需要进行一个压缩记忆的过程</li>
<li>为了减少记忆压缩的频率，仅当玩家信息收集到一定数量时会触发记忆压缩，未压缩时，则直接利用上一轮记忆压缩后的内容附加最近消息用于玩家进行决策</li>
<li>记忆功能，AI 可以更好地利用历史信息进行决策，提高游戏的智能性和策略性。</li>
</ul>
<p>在没添加记忆功能时，Prompt如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">当前是10人场，游戏配置为：预言家x1，女巫x1，猎人x1，狼人x3，平民x4。</span><br><span class="line">游戏的结束条件是：</span><br><span class="line">1. 狼人全部出局，好人胜利</span><br><span class="line">2. 预言家、女巫和猎人出局，狼人胜利</span><br><span class="line">3. 平民全部出局，狼人胜利</span><br><span class="line">【你掌握的信息】</span><br><span class="line">你是4号玩家，你的身份是狼人。</span><br><span class="line">你的思考过程是:作为狼人，我们的目标是减少好人的数量，特别是那些拥有特殊能力的角色，如预言家、女巫和猎人。当前存活的玩家有1, 2, 5, 6, 7, 9, 10。我需要在这些人中找出最有可能是特殊角色的人进行攻击。由于没有明确的身份信息，我需要根据之前的游戏表现和发言来推测。假设玩家1在前几轮发言中表现得非常主动，可能是预言家或女巫。为了最大化我们的优势，我决定投票给玩家1。</span><br><span class="line"></span><br><span class="line">【出局信息】</span><br><span class="line">第1晚是平安夜，没有人出局。（第1晚结果在警长竞选后公布）</span><br><span class="line"></span><br><span class="line">【警上竞选警长发言】</span><br><span class="line">10号发言：我是预言家，昨晚验了5号，他是好人。我竞选警长，带领大家找出狼人。</span><br><span class="line">1号发言：10号，5号已被救，你预言家身份有待验证。我建议谨慎投票。</span><br><span class="line">2号发言：我支持10号玩家竞选警长，但大家要保持警惕，确保预言家身份真实。</span><br><span class="line">3号发言：10号，你的预言家身份存疑，为何只验5号？我们需要更多证据支持你。</span><br><span class="line">6号发言：我建议大家对10号的身份保持警惕，确保预言家身份真实后再投票。</span><br><span class="line">7号发言：我建议大家对10号的身份保持谨慎，需要更多证据支持他的预言家身份。</span><br><span class="line">8号发言：10号，你的预言家身份存疑，为何只验5号？我们需要更多证据支持你。</span><br><span class="line"></span><br><span class="line">【投票信息】</span><br><span class="line">无</span><br></pre></td></tr></table></figure>
<p>此时【你掌握的信息】<strong>只有一条身份信息以及一条</strong>最近的思考过程，没有将所有信息添加进来，掌握的信息应该包括：身份信息、自己的发言信息、思考过程、</p>
<p>同样的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">你现在是一名狼人杀专家，当前狼人杀游戏里涉及到的角色包括：[预言家，女巫，猎人，狼人，平民]五种角色。</span><br><span class="line">当前是10人场，游戏配置为：预言家x1，女巫x1，猎人x1，狼人x3，平民x4。</span><br><span class="line">游戏的结束条件是：</span><br><span class="line">1. 狼人全部出局，好人胜利</span><br><span class="line">2. 预言家、女巫和猎人出局，狼人胜利</span><br><span class="line">3. 平民全部出局，狼人胜利</span><br><span class="line">【你掌握的信息】</span><br><span class="line">游戏过程：</span><br><span class="line">1. 第1晚，狼人杀2号，女巫救活2号（预言家），平安夜。</span><br><span class="line">2. 第1天白天，8号被放逐出局。</span><br><span class="line">3. 第2晚，狼人杀9号，女巫毒死3号（平民）。</span><br><span class="line">4. 第2天白天，继续分析玩家行为，保护预言家，找出狼人。</span><br><span class="line"></span><br><span class="line">关键玩家：</span><br><span class="line">2号：预言家，被女巫救活。</span><br><span class="line">8号：警长，第1天被放逐。</span><br><span class="line">3号：平民，被女巫误毒。</span><br><span class="line">9号：被狼人杀害。</span><br><span class="line"></span><br><span class="line">思考过程：</span><br><span class="line">1. 作为女巫，首要任务是保护关键角色，如预言家。</span><br><span class="line">2. 第1晚判断2号是关键角色，使用解药救活。</span><br><span class="line">3. 第1天支持8号警长，确保好人阵营优势。</span><br><span class="line">4. 第2晚误毒3号，需谨慎使用毒药，分析玩家行为以保护好人阵营。以上内容是基于历史提炼出的摘要，以下是最近发生的事件、发言或者思考内容:</span><br><span class="line">狼人杀了 10号，女巫的解药用完了。</span><br><span class="line">女巫的毒药用完了。</span><br><span class="line">第3晚，以下玩家出局：10号，</span><br><span class="line">--- 第3晚结束 ---</span><br><span class="line">-- 第3个回合的白天发言环节 --</span><br><span class="line">白天发言阶段，你的发言:警惕狼人行动，保护2号预言家，分析剩余玩家行为，确保好人阵营安全。</span><br><span class="line">白天发言阶段，你的思考过程:8号被放逐后，狼人行动频繁，需警惕剩余玩家中的狼人。2号预言家是关键，必须保护。10号出局，可能是狼人内部矛盾。</span><br><span class="line"></span><br><span class="line">【出局信息】</span><br><span class="line">第1晚是平安夜，没有人出局。（第1晚结果在警长竞选后公布）</span><br><span class="line">第1天白天，8号被放逐出局。</span><br><span class="line">第2晚，以下玩家出局：9号，3号，</span><br><span class="line">第2天白天，平票无人出局。</span><br><span class="line">第3晚，以下玩家出局：10号，</span><br><span class="line"></span><br><span class="line">【警上发言摘要】</span><br><span class="line">3号和10号的发言较为一致，均表示自己是好人并愿意为团队贡献力量，但缺乏具体行动或信息支持，可能存在隐藏身份的可能性。8号明确表达了竞选警长的意愿，并承诺带领团队找出狼人，表现出较强的领导力和责任感。6号作为猎人，明确支持8号担任警长，并达了共同找出狼人的意愿，显示出对8号的信任。5号也支持8号担任警长，进一步增强了8号的可信度。总体来看，8号在警长竞选中获得了较多支持，显示出其在团队中的影响力。</span><br><span class="line"></span><br><span class="line">【近期更新】</span><br><span class="line">3号发言：第一晚平安夜，我建议大家保持警惕，仔细分析每个人的发言。我是好人，愿意为团队贡献力量。</span><br><span class="line">10号发言：我支持3号的观点，我们需要仔细分析每个人的发言。我是好人，愿意为团队贡献力量。</span><br><span class="line">8号发言：我是8号，愿意担任警长，带领大家找出狼人，确保好人胜利。</span><br><span class="line">6号发言：我是6号，猎人。支持8号担任警长，我们一起找出狼人，保护平民。</span><br><span class="line">5号发言：我支持8号担任警长，相信他能带领我们找到狼人。</span><br><span class="line">【常规发言摘要】</span><br><span class="line">3号和10号的发言较为一致，均表示自己是好人并愿意为团队贡献力量，但缺乏具体行动或信息支持，可能存在隐藏身份的可能性。8号明确表达了竞选警长的意愿，并承诺带领团队找出狼人，表现出较强的领导力和责任感。6号作为猎人，明确支持8号担任警长，并达了共同找出狼人的意愿，显示出对8号的信任。5号也支持8号担任警长，进一步增强了8号的可信度。总体来看，8号在警长竞选中获得了较多支持，显示出其在团队中的影响力。</span><br><span class="line"></span><br><span class="line">【近期更新】</span><br><span class="line">9号发言：我支持8号担任警长，相信他能带领我们找出狼人，保护平民。</span><br><span class="line">10号发言：我支持8号担任警长，相信他能带领我们找出狼人，确保好人胜利。</span><br><span class="line">1号发言：我支持8号担任警长，相信他能带领我们找出狼人，保护平民。同时，我会密切关注其他玩家的发言和行为。</span><br><span class="line">2号发言：我支持8号担任警长，相信他能带领我们找出狼人，保护平民。</span><br><span class="line">3号发言：我支持8号担任警长，但我们会密切关注他的决策，确保我们的胜利。</span><br><span class="line">4号发言：支持8号警长，警惕狼人行动，保护预言家和平民。</span><br><span class="line">5号发言：我坚持支持8号警长，相信他的领导能帮助我们找出狼人，保护好人阵营。</span><br><span class="line">6号发言：6号发言：继续支持8号警长，我们会合力找出狼人，保护平民。警惕任何异常行为。</span><br><span class="line">7号发言：我支持8号警长，相信他能带领我们找出狼人，保护平民。</span><br><span class="line">8号发言：感谢大家的支持，作为警长，我会全力以赴，带领大家找出狼人，确保好人胜利。请大家保持警惕，共同分析线索。</span><br><span class="line"></span><br><span class="line">【投票信息】</span><br><span class="line">【上2回合的投票】</span><br><span class="line">投票认为8号是狼人的玩家：[1, 2, 3, 4, 5, 6, 7, 9, 10]</span><br><span class="line">投票认为7号是狼人的玩家：[8]</span><br><span class="line">【上1回合的投票】</span><br><span class="line">投票认为7号是狼人的玩家：[1, 2, 5]</span><br><span class="line">投票认为10号是狼人的玩家：[4]</span><br><span class="line">投票认为1号是狼人的玩家：[6, 7, 10]</span><br><span class="line">【上1回合的pk阶段投票】</span><br><span class="line">投票认为7号是狼人的玩家：[2, 5]</span><br><span class="line">投票认为10号是狼人的玩家：[4]</span><br><span class="line">投票认为1号是狼人的玩家：[6, 10]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">你是4号玩家，现在是第3天，白天投票阶段，,目前在场的玩家还有 [0, 1, 2, 4, 5, 6, 7],请你根据以上信息进行思考和投票，你需要基于当前状态，思考怎么投票，思考过程和投票过程用json格式返回，投票结果只需要返回纯数字以下是参考示例：&#123;&quot;think&quot;:&quot;&quot;,&quot;voted&quot;:&quot;1&quot;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>当警上竞选警长成功时，会直接删除之前的所有发言，只保留上警长的</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">QianLi Yang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://yangqianli92.github.io/">https://yangqianli92.github.io/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">QianLi Yang</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/LLM/">LLM</a></div><div class="post-share"><div class="social-share" data-image="/images/head.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/05/29/function_calling/" title="LLM实践:function calling工具调用"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">LLM实践:function calling工具调用</div></div><div class="info-2"><div class="info-item-1">Function Calling工具使用，也称为函数调用(Function calling)，是指通过定义和调用外部工具或函数来扩展大模型的能力。我们可以为大模型提供一组预定义工具的访问权限，它可以随时调用这些工具。工具允许我们编写代码，这些代码可以执行大模型无法执行的特定任务或计算。简而言之：工具使用是增强大模型功能的一种方式。  工具调用通常具有以下几个特性：1 拓展大模型的功能：使用工具可以让大模型的功能超越其内置功能。通过定义和调用外部工具，您可以使大模型能够执行原本无法完成的任务 2 与现有系统集成：使用工具可以实现大模型与您现有系统、数据库或 API 的无缝集成 3...</div></div></div></a><a class="pagination-related" href="/2025/02/28/eign/" title="Equivariant Interaction-Aware Graph Network for Predicting the Binding Affinity of Protein-Ligand"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Equivariant Interaction-Aware Graph Network for Predicting the Binding Affinity of Protein-Ligand</div></div><div class="info-2"><div class="info-item-1">IntroductionThe success of drug discovery relies on predicting the binding affinity of protein-ligand. Applying deep learning to this field can expedite the process and reduce resource consumption. Recently, researchers have employed graph neural networks for predicting protein-ligand binding affinitiy, showcasing remarkable performance. However, this is largely attributed to the natural representation of biomolecule by graph neural networks, rather than a rational modeling of interactions...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/06/10/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A02/" title="LLM论文阅读-狼人杀系列 探索LLM在社交类游戏的应用"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-10</div><div class="info-item-2">LLM论文阅读-狼人杀系列 探索LLM在社交类游戏的应用</div></div><div class="info-2"><div class="info-item-1">Exploring Large Language Models for Communication Games: An Empirical Study on Werewolf  Authors: Yuzhuang Xu, Shuo Wang, Peng Li, Fuwen Luo, Xiaolong Wang, Weidong Liu, Yang Liu Communication games, which we refer to as incomplete information games that heavily depend on natural language communication, hold significant research value in fields such as economics, social science, and artificial intelligence. In this work, we explore the problem of how to engage large language models (LLMs) in...</div></div></div></a><a class="pagination-related" href="/2025/06/16/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A04/" title="LLM论文阅读-狼人杀系列4 利用多智能体强化学习训练社交推理语言模型"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-16</div><div class="info-item-2">LLM论文阅读-狼人杀系列4 利用多智能体强化学习训练社交推理语言模型</div></div><div class="info-2"><div class="info-item-1">Training Language Models for Social Deduction with Multi-Agent Reinforcement LearningAuthors: Bidipta Sarkar, Warren Xia, C. Karen Liu, Dorsa Sadigh Communicating in natural language is a powerful tool in multi-agent settings, as it enables independent agents to share information in partially observable settings and allows zero-shot coordination with humans. However, most prior works are limited as they either rely on training with large amounts of human demonstrations or lack the ability to...</div></div></div></a><a class="pagination-related" href="/2025/06/03/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A01/" title="LLM论文阅读-狼人杀系列 强化学习智能体在狼人杀中的策略玩法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-03</div><div class="info-item-2">LLM论文阅读-狼人杀系列 强化学习智能体在狼人杀中的策略玩法</div></div><div class="info-2"><div class="info-item-1">#1 Language Agents with Reinforcement Learning for Strategic Play in the Werewolf GameAuthors: Zelai Xu, Chao Yu, Fei Fang, Yu Wang, Yi Wu Agents built with large language models (LLMs) have shown great potential across a wide range of domains. However, in complex decision-making tasks, pure LLM-based agents tend to exhibit intrinsic bias in their choice of actions, which is inherited from the model’s training data and results in suboptimal performance. To develop strategic language agents,...</div></div></div></a><a class="pagination-related" href="/2025/06/16/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A05/" title="LLM论文阅读-狼人杀系列5 Werewolf Arena"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-16</div><div class="info-item-2">LLM论文阅读-狼人杀系列5 Werewolf Arena</div></div><div class="info-2"><div class="info-item-1">Werewolf Arena: A Case Study in LLM Evaluation via Social Deduction Authors: Suma Bailis, Jane Friedhoff, Feiyang Chen This paper introduces Werewolf Arena, a novel framework for evaluating large language models (LLMs) through the lens of the classic social deduction game, Werewolf. In Werewolf Arena, LLMs compete against each other, navigating the game’s complex dynamics of deception, deduction, and persuasion. The framework introduces a dynamic turn-taking system based on bidding,...</div></div></div></a><a class="pagination-related" href="/2025/06/12/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A03/" title="LLM论文阅读-狼人杀系列 Werewolf 一个直观的游戏框架，配备文本转语音功能以提升用户参与度"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-12</div><div class="info-item-2">LLM论文阅读-狼人杀系列 Werewolf 一个直观的游戏框架，配备文本转语音功能以提升用户参与度</div></div><div class="info-2"><div class="info-item-1">Werewolf: A Straightforward Game Framework with TTS for Improved User Engagement  Authors: Qihui Fan, Enfu Nan, Wenbo Li, Lei Lu, Pu Zhao, Yanzhi Wang The growing popularity of social deduction game systems for both business applications and AI research has greatly benefited from the rapid advancements in Large Language Models (LLMs), which now demonstrate stronger reasoning and persuasion capabilities. Especially with the raise of DeepSeek R1 and V3 models, LLMs should enable a more...</div></div></div></a><a class="pagination-related" href="/2025/06/03/MCP-RAG/" title="LLM论文阅读:RAG-MCP：通过检索增强生成技术缓解大型语言模型工具选择中的提示膨胀问题"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-03</div><div class="info-item-2">LLM论文阅读:RAG-MCP：通过检索增强生成技术缓解大型语言模型工具选择中的提示膨胀问题</div></div><div class="info-2"><div class="info-item-1">RAG-MCP: Mitigating Prompt Bloat in LLM Tool Selection via Retrieval-Augmented Generation [PDF5] [Copy] [Kimi19] [REL]Authors: Tiantian Gan, Qiyao Sun Large language models (LLMs) struggle to effectively utilize a growing number of external tools, such as those defined by the Model Context Protocol (MCP)\cite{IntroducingMCP}, due to prompt bloat and selection complexity. We introduce RAG-MCP, a Retrieval-Augmented Generation framework that overcomes this challenge by offloading tool...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">QianLi Yang</div><div class="author-info-description">不定时更新程序员成长之路~</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/YangQianli92" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:chainllie92@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/Serein_Young" target="_blank" title="Wechat"><i class="fab fa-weixin"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%B8%B8%E6%88%8F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">1. 游戏初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%A4%9C%E6%99%9A%E9%98%B6%E6%AE%B5"><span class="toc-number">2.</span> <span class="toc-text">2. 夜晚阶段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AD%A6%E9%95%BF%E7%AB%9E%E9%80%89%E9%98%B6%E6%AE%B5%EF%BC%88%E4%BB%85%E7%AC%AC%E4%B8%80%E8%BD%AE%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">3. 警长竞选阶段（仅第一轮）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%99%BD%E5%A4%A9%E9%98%B6%E6%AE%B5"><span class="toc-number">4.</span> <span class="toc-text">4. 白天阶段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5%E5%A4%84%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">5. 特殊情况处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%B8%B8%E6%88%8F%E7%BB%93%E6%9D%9F%E5%88%A4%E6%96%AD"><span class="toc-number">6.</span> <span class="toc-text">6. 游戏结束判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E7%82%B9"><span class="toc-number">7.</span> <span class="toc-text">优化点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8A%9F%E8%83%BD"><span class="toc-number">7.1.</span> <span class="toc-text">记忆功能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%87%AA%E8%BA%AB%E8%AE%B0%E5%BF%86%E6%9B%B4%E6%96%B0"><span class="toc-number">7.1.1.</span> <span class="toc-text">1. 自身记忆更新</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%91%E8%A8%80%E8%AE%B0%E5%BF%86%E6%9B%B4%E6%96%B0"><span class="toc-number">7.1.2.</span> <span class="toc-text">2. 发言记忆更新</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%AE%B0%E5%BF%86%E4%BD%BF%E7%94%A8"><span class="toc-number">7.1.3.</span> <span class="toc-text">3. 记忆使用</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/18/%E6%A2%A6%E5%B9%BB%E8%A5%BF%E6%B8%B8%E4%BD%93%E9%AA%8C%E6%8A%A5%E5%91%8A/" title="无标题">无标题</a><time datetime="2025-06-18T13:53:18.873Z" title="发表于 2025-06-18 21:53:18">2025-06-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/18/%E6%A2%A6%E5%B9%BB%E8%A5%BF%E6%B8%B8/" title="AI赋能《梦幻西游手游》内挂：利用大语言模型与智能体实现玩家托管自动化">AI赋能《梦幻西游手游》内挂：利用大语言模型与智能体实现玩家托管自动化</a><time datetime="2025-06-18T12:44:48.000Z" title="发表于 2025-06-18 20:44:48">2025-06-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/16/%E7%8B%BC%E4%BA%BA%E6%9D%80/" title="基于大语言模型（LLM）驱动的AI狼人杀综述">基于大语言模型（LLM）驱动的AI狼人杀综述</a><time datetime="2025-06-16T09:31:08.000Z" title="发表于 2025-06-16 17:31:08">2025-06-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/16/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A04/" title="LLM论文阅读-狼人杀系列4 利用多智能体强化学习训练社交推理语言模型">LLM论文阅读-狼人杀系列4 利用多智能体强化学习训练社交推理语言模型</a><time datetime="2025-06-16T04:46:48.000Z" title="发表于 2025-06-16 12:46:48">2025-06-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/16/LLM%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%EF%BC%9A%E7%8B%BC%E4%BA%BA%E6%9D%80%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A05/" title="LLM论文阅读-狼人杀系列5 Werewolf Arena">LLM论文阅读-狼人杀系列5 Werewolf Arena</a><time datetime="2025-06-16T04:46:48.000Z" title="发表于 2025-06-16 12:46:48">2025-06-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By QianLi Yang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>